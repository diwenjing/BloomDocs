
#检测和处理网络分割（“拆分大脑”）
###检测和处理网络分割（“拆分大脑”） 当发生网络分段时，不能正确处理分区条件的分布式系统允许形成多个子组。这种情况可能导致许多问题，包括在不一致的数据上运行的分布式应用程序。
<br/>


当发生网络分段时，不能处理分区条件的分布式系统正确地允许形成多个子组。这种情况可能导致许多问题，包括在不一致的数据上运行的分布式应用程序。<br/>

例如，因为连接到服务器集群的瘦客户机不会绑定到成员资格系统中，客户端可能会与来自多个子组的服务器进行通信。或者，一组客户端可能会看到一个服务器组，而另一组客户端看不到该子组，但可以看到另一个。<br/>

RowStore通过仅允许一个子组来形成和生存来处理这个问题。其他子组的分布式系统和高速缓存将尽可能快地关闭。通过RowStore日志记录系统提出适当的警报，以提醒管理员采取行动。<br/>

RowStore中的网络分区检测基于主要成员和组管理协调器的概念。协调员是管理分布式系统其他成员进入和退出的成员。对于网络分区检测，协调器始终是RowStore定位器。主要成员始终是分布式系统中最旧的成员，它们没有在同一进程中运行定位器。鉴于此，两种情况会导致RowStore声明一个网络分区：<br/>

如果定位器和引导成员在可配置的时间段内异常离开分布式系统，则声明网络分区，并且立即关闭并断开无法查看定位器和引导成员的成员缓存。<br/>
如果定位器或主要成员的分布式系统正常关闭，RowStore会自动选择一个新的分布式系统并继续运行。<br/>
如果成员没有联系定位器，则声明已发生网络分区，自动关闭，并从分布式系统断开连接。<br/>
通过将enable-network-partition-detection分布式系统属性设置为true来启用网络分区检测。在所有定位器和应对网络分区敏感的任何其他进程中启用网络分区检测。没有启用网络分区检测的进程不符合成为主要成员的资格，因此它们的失败不会触发网络分区的声明。<br/>

注意：分布式系统必须包含定位器以启用网络分区检测。<br/>

